# NeMo Data Designer Helm Chart Values
# Following: https://docs.nvidia.com/nemo/microservices/latest/set-up/deploy-as-microservices/data-designer/parent-chart.html

# Use existing secrets we already created
existingSecret: ngc-api
existingImagePullSecret: nvcrimagepullsecret

# Enable only Data Designer (not full platform)
tags:
  platform: false
  data-designer: true
  auditor: false
  studio: false
  safe-synthesizer: false

global:
  imagePullSecrets:
    - name: nvcrimagepullsecret
  security:
    allowInsecureImages: true

# Data Designer configuration
data-designer:
  env:
    NIM_API_KEY:
      valueFrom:
        secretKeyRef:
          name: app-secrets
          key: NIM_API_KEY
    LITELLM_KEY:
      valueFrom:
        secretKeyRef:
          name: app-secrets
          key: LITELLM_KEY

  config:
    model_provider_registry:
      default: "litellm"
      providers:
        - name: "nvidiabuild"
          endpoint: "https://integrate.api.nvidia.com/v1"
          api_key: "NIM_API_KEY"
        - name: "litellm"
          endpoint: "http://litellm:4000/v1"
          api_key: "LITELLM_KEY"

# Core configuration for job storage (EFS for RWX)
core:
  executors:
    - provider: cpu
      profile: default
      backend: kubernetes_job
      config:
        storage:
          storageClass: efs-sc
          accessModes:
            - ReadWriteMany
          size: 200Gi
    - provider: gpu
      profile: default
      backend: kubernetes_job
      config:
        storage:
          storageClass: efs-sc
          accessModes:
            - ReadWriteMany
          size: 200Gi
